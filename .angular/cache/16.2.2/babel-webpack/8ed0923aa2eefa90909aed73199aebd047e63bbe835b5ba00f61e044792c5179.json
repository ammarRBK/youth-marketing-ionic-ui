{"ast":null,"code":"var _class;\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./costumers.page.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./costumers.page.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Platform } from '@ionic/angular';\nimport { AuthService } from '../services/auth.service';\nimport { ProductsService } from '../services/products.service';\nlet CostumersPage = (_class = class CostumersPage {\n  constructor(router, authServ, products, platform) {\n    this.router = router;\n    this.authServ = authServ;\n    this.products = products;\n    this.platform = platform;\n    this.fcol = [];\n    this.scol = [];\n    this.productionsLength = 0;\n    this.productCategories = this.products.productCategories;\n    this.platform.backButton.subscribe(() => {\n      this.router.navigateByUrl('home');\n    });\n  }\n  ngOnInit() {\n    this.getProds();\n    this.authServ.checkLoggedIn().subscribe(res => {\n      res['message'] === \"loggedin\" ? this.loggedin = true : this.loggedin = false;\n    });\n  }\n  getProds(event) {\n    this.productionsLength = 0;\n    this.products.getProducts().forEach(elem => {\n      if (elem.length > 0) {\n        this.productions = elem;\n        this.productionsLength = elem.length;\n        event ? event.target.complete() : 'done';\n      } else {\n        this.productions = [];\n        this.productionsLength = 1;\n        event ? event.target.complete() : 'done';\n      }\n    });\n  }\n  // doRefresh(event){\n  //   this.getProds();\n  //   event.target.complete();\n  // }\n  showProductPage(product) {\n    this.products.productData = product;\n    this.products.product['permited'] = false;\n    this.router.navigateByUrl('costumers/product');\n  }\n  routeProfile() {\n    this.router.navigateByUrl('home/login/profile');\n  }\n  backToHome() {\n    this.router.navigateByUrl('home');\n  }\n  handleText(event) {\n    let eventValue = event.srcElement.value;\n    let inputSearch = eventValue.toLowerCase();\n    let cards = Array.from(document.querySelectorAll('ion-card'));\n    requestAnimationFrame(() => {\n      cards.forEach(card => {\n        let title = card.children[1].children[0].textContent;\n        let productOwner = card.children[2].children[0].textContent;\n        title.toLowerCase().indexOf(inputSearch) === -1 && productOwner.toLowerCase().indexOf(inputSearch) === -1 ? card.style.display = \"none\" : card.style.display = \"block\";\n      });\n    });\n  }\n  filterCategory(event) {\n    let filterValue = event.srcElement.value;\n    let cards = Array.from(document.querySelectorAll('ion-card'));\n    requestAnimationFrame(() => {\n      cards.forEach(card => {\n        if (filterValue != null && filterValue != \"\") {\n          let category = card.children[1].children[1].textContent;\n          category != filterValue ? card.style.display = \"none\" : card.style.display = \"block\";\n        } else {\n          card.style.display = \"block\";\n        }\n      });\n    });\n  }\n}, _class.ctorParameters = () => [{\n  type: Router\n}, {\n  type: AuthService\n}, {\n  type: ProductsService\n}, {\n  type: Platform\n}], _class);\nCostumersPage = __decorate([Component({\n  selector: 'app-costumers',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], CostumersPage);\nexport { CostumersPage };","map":{"version":3,"names":["Component","Router","Platform","AuthService","ProductsService","CostumersPage","_class","constructor","router","authServ","products","platform","fcol","scol","productionsLength","productCategories","backButton","subscribe","navigateByUrl","ngOnInit","getProds","checkLoggedIn","res","loggedin","event","getProducts","forEach","elem","length","productions","target","complete","showProductPage","product","productData","routeProfile","backToHome","handleText","eventValue","srcElement","value","inputSearch","toLowerCase","cards","Array","from","document","querySelectorAll","requestAnimationFrame","card","title","children","textContent","productOwner","indexOf","style","display","filterCategory","filterValue","category","__decorate","selector","template","__NG_CLI_RESOURCE__0"],"sources":["C:\\Users\\UNICEF\\Desktop\\youth-marketing-projrct\\youth-marketing-ionic-ui\\src\\app\\costumers\\costumers.page.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Platform } from '@ionic/angular';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { ProductsService } from '../services/products.service';\r\n\r\n@Component({\r\n  selector: 'app-costumers',\r\n  templateUrl: './costumers.page.html',\r\n  styleUrls: ['./costumers.page.scss'],\r\n})\r\nexport class CostumersPage implements OnInit {\r\n\r\n  loggedin:boolean;\r\n  productions: any;\r\n  fcol=[];\r\n  scol=[];\r\n  productCategories;\r\n  productionsLength= 0;\r\n\r\n  constructor(private router:Router, private authServ: AuthService, public products: ProductsService, private platform: Platform) { \r\n    this.productCategories= this.products.productCategories;\r\n\r\n    this.platform.backButton.subscribe(()=>{\r\n      \r\n      this.router.navigateByUrl('home');\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getProds();\r\n    this.authServ.checkLoggedIn().subscribe(res => {\r\n      res['message']=== \"loggedin\" ? this.loggedin= true : this.loggedin= false;\r\n    })\r\n    \r\n  }\r\n\r\n  getProds(event?){\r\n    this.productionsLength= 0;\r\n    this.products.getProducts().forEach((elem:any)=>{\r\n      if (elem.length > 0) {\r\n        this.productions= elem;\r\n        this.productionsLength= elem.length;\r\n        event ? event.target.complete() : 'done';\r\n      } else {\r\n        this.productions= [];\r\n        this.productionsLength= 1;\r\n        event ? event.target.complete() : 'done';\r\n      }\r\n    })\r\n  }\r\n\r\n  // doRefresh(event){\r\n  //   this.getProds();\r\n  //   event.target.complete();\r\n  // }\r\n\r\n  showProductPage(product){\r\n    this.products.productData= product;\r\n    this.products.product['permited']= false;\r\n    this.router.navigateByUrl('costumers/product');\r\n  }\r\n\r\n  routeProfile(){\r\n    this.router.navigateByUrl('home/login/profile');\r\n  }\r\n\r\n  backToHome(){\r\n    this.router.navigateByUrl('home');\r\n  }\r\n\r\n\r\n  handleText(event){\r\n    let eventValue= event.srcElement.value;\r\n    let inputSearch= eventValue.toLowerCase();\r\n    let cards= Array.from(document.querySelectorAll('ion-card'));\r\n    \r\n    requestAnimationFrame(()=>{\r\n      cards.forEach(card=>{\r\n        let title= card.children[1].children[0].textContent\r\n        let productOwner= card.children[2].children[0].textContent\r\n        title.toLowerCase().indexOf(inputSearch) === -1 && productOwner.toLowerCase().indexOf(inputSearch) === -1 ? card.style.display=\"none\" : card.style.display=\"block\";\r\n      })\r\n    })\r\n  }\r\n\r\n  filterCategory(event){\r\n    let filterValue= event.srcElement.value;\r\n    let cards= Array.from(document.querySelectorAll('ion-card'));\r\n    \r\n    requestAnimationFrame(()=>{\r\n      cards.forEach(card=>{\r\n        if (filterValue != null && filterValue != \"\") {\r\n          let category= card.children[1].children[1].textContent\r\n          category != filterValue ? card.style.display=\"none\" : card.style.display=\"block\";\r\n        } else {\r\n          card.style.display=\"block\"\r\n        }\r\n        \r\n      })\r\n    })\r\n  }\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}