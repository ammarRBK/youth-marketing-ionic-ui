{"ast":null,"code":"var _class;\nvar ProfilePage_1;\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./profile.page.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./profile.page.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LoadingController, Platform } from '@ionic/angular';\nimport { Subject } from 'rxjs';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { ProductsService } from 'src/app/services/products.service';\nlet ProfilePage = (_class = class ProfilePage {\n  constructor(authServ, productsSer, platform, router, loadingController) {\n    this.authServ = authServ;\n    this.productsSer = productsSer;\n    this.platform = platform;\n    this.router = router;\n    this.loadingController = loadingController;\n    this.products = [];\n    this.returnedEmptyProds = true;\n    this.platform.backButton.subscribe(() => {\n      this.backToHome();\n    });\n    ProfilePage_1.returned.subscribe(res => {\n      this.getMyProducts();\n    });\n  }\n  ngOnInit() {\n    this.getMyProducts();\n  }\n  getMyProducts(event) {\n    this.userdata = \"\";\n    this.products = [];\n    this.productsSer.getUserProducts().subscribe(result => {\n      if (result['message'] === \"you dont have products yet\") {\n        this.userdata = result['userName'];\n        this.returnedEmptyProds = true;\n        this.products = ['kdjfkdj'];\n        event ? event.target.complete() : 'done';\n        // this.clientMessage=\"إذا كنت ترغب بعرض منتجاتك للزبائن مستخدمين التطبيق قم بإضافتها الى ملفك الشخصي لدينا\";\n      } else {\n        this.returnedEmptyProds = false;\n        this.products = JSON.parse(result['prods']);\n        this.userdata = result['userName'];\n        event ? event.target.complete() : 'done';\n      }\n    });\n  }\n  logout() {\n    this.productsSer.loadingProcess('....يتم تسجيل الخروج');\n    this.authServ.logout().subscribe(result => {\n      if (result['message'] === \"logged out\") {\n        setTimeout(() => {\n          this.loadingController.dismiss();\n          this.backToHome();\n        }, 2000);\n      }\n    });\n  }\n  showproduct(product) {\n    this.productsSer.productData = product;\n    this.productsSer.product['permited'] = true;\n    // this.productsSer.product= {permited:true, productinfo:product};\n    this.router.navigateByUrl('home/costumers/product');\n  }\n  navtoAddPage() {\n    this.router.navigateByUrl('home/login/profile/addproduct');\n  }\n  navtoEditProfilePage() {\n    this.router.navigateByUrl('home/login/profile/edit-profile');\n  }\n  backToHome() {\n    this.router.navigateByUrl('home');\n  }\n}, ProfilePage_1 = _class, _class.returned = new Subject(), _class.ctorParameters = () => [{\n  type: AuthService\n}, {\n  type: ProductsService\n}, {\n  type: Platform\n}, {\n  type: Router\n}, {\n  type: LoadingController\n}], _class);\nProfilePage = ProfilePage_1 = __decorate([Component({\n  selector: 'app-profile',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], ProfilePage);\nexport { ProfilePage };","map":{"version":3,"names":["Component","Router","LoadingController","Platform","Subject","AuthService","ProductsService","ProfilePage","_class","constructor","authServ","productsSer","platform","router","loadingController","products","returnedEmptyProds","backButton","subscribe","backToHome","ProfilePage_1","returned","res","getMyProducts","ngOnInit","event","userdata","getUserProducts","result","target","complete","JSON","parse","logout","loadingProcess","setTimeout","dismiss","showproduct","product","productData","navigateByUrl","navtoAddPage","navtoEditProfilePage","__decorate","selector","template","__NG_CLI_RESOURCE__0"],"sources":["C:\\Users\\UNICEF\\Desktop\\youth-marketing-projrct\\youth-marketing-ionic-ui\\src\\app\\login\\profile\\profile.page.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LoadingController, Platform } from '@ionic/angular';\r\nimport { Subject } from 'rxjs';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { ProductsService } from 'src/app/services/products.service';\r\nimport { LoginPage } from '../login.page';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.page.html',\r\n  styleUrls: ['./profile.page.scss'],\r\n})\r\nexport class ProfilePage implements OnInit {\r\n\r\n  login: LoginPage;\r\n  clientMessage:string;\r\n  products=[];\r\n  userdata: string;\r\n  returnedEmptyProds: boolean= true;\r\n  public static returned: Subject<any> = new Subject();\r\n  constructor(public authServ: AuthService, private productsSer:ProductsService, private platform:Platform, private router: Router, private loadingController: LoadingController) { \r\n    \r\n    this.platform.backButton.subscribe(()=>{\r\n      this.backToHome();\r\n    })\r\n\r\n    ProfilePage.returned.subscribe(res=>{\r\n      this.getMyProducts();\r\n    });\r\n    \r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getMyProducts();\r\n  }\r\n\r\n  getMyProducts(event?){\r\n    this.userdata= \"\";\r\n    this.products= [];\r\n    this.productsSer.getUserProducts().subscribe(result=>{\r\n      if(result['message'] === \"you dont have products yet\"){ \r\n        this.userdata= result['userName'];\r\n        this.returnedEmptyProds= true;\r\n        this.products= ['kdjfkdj'];\r\n        event ? event.target.complete() : 'done';\r\n      // this.clientMessage=\"إذا كنت ترغب بعرض منتجاتك للزبائن مستخدمين التطبيق قم بإضافتها الى ملفك الشخصي لدينا\";\r\n      }else{\r\n        this.returnedEmptyProds= false;\r\n        this.products= JSON.parse(result['prods']);\r\n        this.userdata= result['userName'];\r\n        event ? event.target.complete() : 'done';\r\n      }\r\n    })\r\n  }\r\n\r\n  logout(){\r\n    this.productsSer.loadingProcess('....يتم تسجيل الخروج');\r\n    this.authServ.logout().subscribe(result=>{\r\n      if(result['message'] === \"logged out\"){\r\n        setTimeout(() => {\r\n          this.loadingController.dismiss();\r\n          this.backToHome();\r\n        }, 2000);\r\n        \r\n      }\r\n    })\r\n  }\r\n\r\n  showproduct(product){\r\n    this.productsSer.productData= product;\r\n    this.productsSer.product['permited']= true;\r\n    // this.productsSer.product= {permited:true, productinfo:product};\r\n    this.router.navigateByUrl('home/costumers/product');\r\n  }\r\n\r\n  navtoAddPage(){\r\n    this.router.navigateByUrl('home/login/profile/addproduct')\r\n  }\r\n\r\n  navtoEditProfilePage(){\r\n    this.router.navigateByUrl('home/login/profile/edit-profile');\r\n  }\r\n\r\n  backToHome(){\r\n    this.router.navigateByUrl('home');\r\n  }\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}